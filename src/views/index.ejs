<%- include('partials/headerFront.ejs') %>

 <!--MENU/HOME-->
    <section class ="hero">
        <article class="hero_content">
            <h3 class="titulo">Nuevos Ingresos</h3>
            <p class="texto">Descubrí el próximo Funko Pop de tu colección</p>
            <a class="link" href="shop">SHOP</a>
            
        </article>
    </section>
    <main class="main-container">
        <section class="collection">
            <article class="collection_content">
                <h3 class="collection_tittle"><%= licences[1].licence_name  %></h3>
                <p class="collection_text"><%= licences[1].licence_description  %></p>
                <a class="collection_link" href="shop">VER COLECCIÓN</a>
            </article>

            <picture class="collection_cover">
                <img src=".<%= licences[1].licence_image  %>" alt="Figura coleccionable Funko de Grogu de la serie The Mandalorian">
            </picture>
        </section>
        <section class="collection">
            <article class="collection_content">
                <h3 class="collection_tittle"><%= licences[0].licence_name  %></h3>
                <p class="collection_text"><%= licences[0].licence_description  %></p>
                <a class="collection_link" href="shop">VER COLECCIÓN</a>
            </article>

            <picture class="collection_cover">
                <img src=".<%= licences[0].licence_image  %>" alt="Figura coleccionable Funko de Vulpix del anime Pokemon">
            </picture>
        </section>
        
        <section class="collection">

            <article class="collection_content">
                <h3 class="collection_tittle"><%= licences[2].licence_name  %></h3>
                <p class="collection_text"><%= licences[2].licence_description  %></p>
                <a class="collection_link" href="shop">VER COLECCIÓN</a>
            </article>

            <picture class="collection_cover">
                <img src=".<%= licences[2].licence_image  %>" alt="Figura coleccionable Funko del Patronus de Snape de la saga de películas de Harry Potter">
            </picture>
        </section>

        <section class="slider">
            <h2 class="slider_tittle">ÚLTIMOS LANZAMIENTOS</h2>
                


  <div class="glide">
    <div class="glide__track" data-glide-el="track">
      <ul class="glide__slides">
       
       <!-- Repite -->
<% productos.forEach((producto) => { %>
  <li class="glide__slide">
   <a href="/item/<%= producto.product_id %>" class="productos-link">
      <% if (producto.discount) { %>
        <div class="banner-superior">Nuevo</div>
      <% } %>
       <div class="imagenes">
                    <img src="img/<%= producto.image_front %>" alt="<%= producto.sku %>" class="imagen-1">
                    <img src="img/<%= producto.image_back %>" alt="<%= producto.sku %>" class="imagen-2">
                  </div>
      <p class="categoria"><%= producto.licence_name %></p>
      <p class="titulo-producto"><%= producto.product_name %></p>
      <p class="precio-producto">$ <%= typeof producto.price === 'number' ? producto.price.toFixed(2) : producto.price %></p>

      <% if (producto.dues) { %>
        <p class="cuotas"><%= producto.dues %> cuotas sin interés</p>
      <% } %>
    </a>
  </li>
<% }); %>
<!-- Fin de la repetición -->

      </ul>
    </div>

    <!-- flechas -->
    <div class="glide__arrows" data-glide-el="controls">
      <button class="glide__arrow glide__arrow--left" data-glide-dir="<">
        <i class="fas fa-arrow-left"></i> 
      </button>
      <button class="glide__arrow glide__arrow--right" data-glide-dir=">">
        <i class="fas fa-arrow-right"></i> 
      </button>
    </div>

    <!-- Configuración de Glide.js -->
    <script src="https://cdn.jsdelivr.net/npm/@glidejs/glide"></script>
    <script src="https://unpkg.com/@glidejs/glide@3.6.0/dist/glide.js"></script>
    <script>
      new Glide('.glide', {
        type: 'carousel',    // Tipo de movimiento
        startAt: 0,          // Comienza desde el primer slide
        perView: 3,          // Muestra 3 slides a la vez
        focusAt: 'center',   // Centra el slide activo
        gap: 10,             // Espacio entre los slides
        autoplay: false,     // Desactiva la reproducción automática
        hoverpause: true,    // Pausa la reproducción automática al pasar el ratón
        keyboard: true,      // Permite cambiar los slides con las flechas del teclado
        bound: false,        // No limita la cantidad de slides cuando se utiliza type: 'carousel'
        swipeThreshold: 80,  // Distancia mínima de desplazamiento para cambiar el slide
        dragThreshold: 120,  // Distancia mínima de arrastre para cambiar el slide
        perTouch: 3,         // Mueve hasta 3 slides por toque/swipe
        touchRatio: 0.5,     // Proporción de movimiento entre swipe y drag
        touchAngle: 45,      // Ángulo requerido para activar el movimiento de los slides
        animationDuration: 400,  // Duración de la animación
        rewind: true,        // Permite el rebobinado al llegar al primer o último slide
        rewindDuration: 800, // Duración de la animación de rebobinado
        animationTimingFunc: 'cubic-bezier(0.165, 0.840, 0.440, 1.000)'  // Función de temporización de la animación
      }).mount();
    </script>
  </div>





        </section>

    </main>

<!--FIN MENU/HOME-->





<%- include('partials/footer.ejs') %>
